<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ARTIGLIERIA</title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
      }
      body {
        background: #f5f5f7;
        color: #1d1d1f;
        font: 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        position: relative;
      }

      .background-image {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('images/10.webp');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        opacity: 0;
        z-index: -1;
        transition: opacity 2s ease-in-out;
      }

      .background-image.visible {
        opacity: 1;
      }
      .wrap {
        min-height: 100svh;
        display: grid;
        place-items: center;
        padding: 16px 0px;
      }
      svg {
        width: 100%;
        max-width: 720px;
        height: auto;
        display: block;
      }

      /* Crucial for predictable transforms on <g> */
      g {
        transform-box: fill-box;
        transform-origin: center;
      }

      .caption {
        margin-top: 10px;
        font-size: 0.9rem;
        opacity: 0.8;
        text-align: center;
      }

      /* Navigation Header */
      .nav-header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: rgba(245, 245, 247, 0.95);
        backdrop-filter: blur(10px);
        padding: 12px 20px;
        z-index: 1000;
        transform: translateY(-100%);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        border-bottom: 1px solid rgba(29, 29, 31, 0.1);
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .nav-header.visible {
        transform: translateY(0);
      }

      .nav-logo {
        height: 40px;
        width: auto;
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .nav-menu {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
        gap: 30px;
      }

      .nav-menu li {
        margin: 0;
      }

      .nav-menu a {
        color: #1d1d1f;
        text-decoration: none;
        font-size: 14px;
        font-weight: 500;
        transition: color 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .nav-menu a:hover {
        color: #000000;
      }

      .nav-toggle {
        display: none;
        background: none;
        border: none;
        color: #1d1d1f;
        font-size: 24px;
        cursor: pointer;
        padding: 5px;
      }

      .nav-close {
        display: none;
      }

      /* Mobile Navigation */
      @media (max-width: 768px) {
        .nav-menu {
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          background: #f5f5f7;
          flex-direction: column;
          gap: 0;
          padding: 80px 30px 30px 30px;
          transform: translateX(-100%);
          opacity: 1;
          visibility: visible;
          transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          z-index: 9999;
          justify-content: flex-start;
          align-items: stretch;
          text-align: right;
        }

        .nav-menu.open {
          transform: translateX(0);
        }

        .nav-menu li {
          padding: 20px 0;
          border-bottom: 1px solid #1d1d1f;
          margin: 0;
        }

        .nav-menu li:last-child {
          border-bottom: 1px solid #1d1d1f;
        }

        .nav-menu a {
          font-size: 18px;
          font-weight: 600;
          color: #1d1d1f;
          display: block;
          width: 100%;
          text-align: left;
        }

        .nav-menu a:hover {
          color: #000000;
        }

        .nav-toggle {
          display: block;
          z-index: 10000;
          position: relative;
        }

        /* Close button in mobile menu */
        .nav-close {
          position: absolute;
          top: 20px;
          left: 30px;
          background: none;
          border: none;
          color: #1d1d1f;
          font-size: 24px;
          cursor: pointer;
          z-index: 10001;
          padding: 5px;
          display: block;
        }

        .nav-close:hover {
          color: #000000;
        }
      }

      /* About section */
      .about-section {
        min-height: 100vh;
        padding: 80px 20px;
        background: linear-gradient(135deg, #f5f5f7 0%, #e8e8ea 100%);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .about-container {
        max-width: 1200px;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 60px;
        align-items: center;
      }

      .about-text {
        color: #1d1d1f;
      }

      .about-text h2 {
        font-size: 3rem;
        margin: 0 0 30px 0;
        font-weight: 700;
        background: linear-gradient(135deg, #000000 0%, #3a3a3c 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .about-text p {
        font-size: 1.1rem;
        line-height: 1.7;
        opacity: 0.9;
        margin: 0 0 20px 0;
      }

      .about-image {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .about-image img {
        width: 100%;
        max-width: 500px;
        height: auto;
        border-radius: 12px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        transition: transform 0.3s ease;
      }

      .about-image img:hover {
        transform: scale(1.02);
      }

      @media (max-width: 768px) {
        .about-container {
          grid-template-columns: 1fr;
          gap: 40px;
          text-align: center;
        }

        .about-text h2 {
          font-size: 2.5rem;
        }
      }

      /* Desktop warning message */
      .desktop-warning {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: #000000;
        color: #ffffff;
        display: none;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        z-index: 99999;
        padding: 20px;
        box-sizing: border-box;
      }

      @media (min-width: 769px) {
        .desktop-warning {
          display: flex;
        }
        
        body > *:not(.desktop-warning) {
          display: none !important;
        }
      }

      @media (prefers-reduced-motion: reduce) {
        * {
          animation: none !important;
          transition: none !important;
        }
      }
    </style>
  </head>
  <body>
    <!-- Desktop Warning -->
    <div class="desktop-warning">
      Vi avevo detto di non guardare da desktop
    </div>
    
    <!-- Background Image -->
    <div class="background-image" id="backgroundImage"></div>
    
    <!-- Navigation Header -->
    <header class="nav-header" id="navHeader">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        id="nav_logo"
        class="nav-logo"
        version="1.1"
        viewBox="0 0 595 395"
        role="img"
        aria-label="Navigation logo"
      >
        <!-- Generator: Adobe Illustrator 29.8.2, SVG Export Plug-In . SVG Version: 2.1.1 Build 3)  -->
        <defs>
          <style>
            .st1 {
              fill: #000;
              transition: fill 2s ease-in-out;
            }
            
            .st1.white-fill {
              fill: #fff;
            }
            
            .st1.gradient-fill {
              fill: url(#orangePinkGradient);
              transition: fill 2s ease-in-out;
            }
          </style>
          <linearGradient id="orangePinkGradient" x1="0%" y1="100%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#FF8C00;stop-opacity:1" />
            <stop offset="50%" style="stop-color:#FF69B4;stop-opacity:1" />
          </linearGradient>
        </defs>

        <g id="nav-scene">
          <g class="layer wave2">
            <path
              class="st1"
              d="M389.3,289.57c-58.15,0-105.46-47.3-105.46-105.44s47.31-105.43,105.46-105.43,105.39,47.29,105.39,105.43-47.28,105.44-105.39,105.44ZM389.3,81.05c-56.85,0-103.1,46.24-103.1,103.08s46.25,103.09,103.1,103.09,103.04-46.24,103.04-103.09-46.22-103.08-103.04-103.08Z"
            />
            <path
              class="st1"
              d="M389.3,290.21c-58.5,0-106.1-47.59-106.1-106.08s47.6-106.07,106.1-106.07,106.03,47.58,106.03,106.07-47.56,106.08-106.03,106.08ZM389.3,79.34c-57.79,0-104.82,47.01-104.82,104.79s47.02,104.8,104.82,104.8,104.75-47.01,104.75-104.8-46.99-104.79-104.75-104.79ZM389.3,287.86c-57.21,0-103.75-46.53-103.75-103.73s46.54-103.72,103.75-103.72,103.68,46.53,103.68,103.72-46.51,103.73-103.68,103.73ZM389.3,81.7c-56.5,0-102.46,45.95-102.46,102.43s45.96,102.45,102.46,102.45,102.4-45.96,102.4-102.45-45.94-102.43-102.4-102.43Z"
            />
          </g>
          <g class="layer wave5">
            <path
              class="st1"
              d="M53.77,142.47h0c-5.67,0-11.05-2.03-15.15-5.71-4.71-4.18-7.39-10.06-7.57-16.57-.17-6.47,2.18-12.79,6.62-17.77,4.96-5.56,11.93-8.74,19.12-8.74,5.66,0,11.04,2.02,15.15,5.68,4.7,4.19,7.38,10.07,7.54,16.58.16,6.47-2.2,12.79-6.65,17.77-4.91,5.57-11.86,8.76-19.06,8.76ZM56.79,96.03c-6.52,0-12.85,2.9-17.37,7.96-4.04,4.53-6.17,10.27-6.02,16.15.16,5.84,2.56,11.13,6.77,14.88,3.68,3.29,8.51,5.11,13.59,5.11,6.52,0,12.83-2.91,17.3-7.97,4.05-4.54,6.2-10.27,6.06-16.16-.15-5.84-2.55-11.12-6.76-14.87-3.68-3.28-8.51-5.09-13.58-5.09Z"
            />
            <path
              class="st1"
              d="M53.77,143.11c-5.83,0-11.36-2.09-15.58-5.87-4.84-4.29-7.6-10.34-7.78-17.03-.17-6.64,2.23-13.11,6.78-18.22,5.08-5.69,12.22-8.96,19.6-8.96,5.81,0,11.34,2.08,15.58,5.85,4.83,4.3,7.59,10.35,7.76,17.04.16,6.64-2.25,13.12-6.81,18.22-5.03,5.7-12.15,8.97-19.54,8.97ZM56.79,94.32c-7.01,0-13.81,3.11-18.64,8.53-4.33,4.86-6.62,11.02-6.45,17.33.17,6.34,2.78,12.06,7.35,16.11,3.99,3.58,9.21,5.55,14.73,5.55,7.02,0,13.8-3.11,18.58-8.54,4.34-4.86,6.64-11.02,6.49-17.33-.16-6.33-2.77-12.05-7.33-16.12-4-3.56-9.23-5.52-14.72-5.52ZM53.77,140.76c-5.24,0-10.22-1.87-14.02-5.27-4.35-3.86-6.83-9.31-6.99-15.34-.16-6.04,2.04-11.93,6.18-16.59,4.64-5.19,11.14-8.17,17.85-8.17,5.24,0,10.21,1.86,14.01,5.25,4.34,3.86,6.82,9.31,6.97,15.34.15,6.04-2.06,11.94-6.22,16.6-4.59,5.2-11.07,8.18-17.78,8.18ZM56.79,96.67c-6.34,0-12.5,2.82-16.89,7.74-3.92,4.41-6,9.99-5.85,15.7.15,5.67,2.48,10.79,6.56,14.42,3.57,3.19,8.24,4.95,13.16,4.95,6.34,0,12.47-2.83,16.82-7.75,3.94-4.42,6.03-10,5.89-15.71-.14-5.67-2.47-10.79-6.54-14.41-3.56-3.18-8.23-4.93-13.16-4.93Z"
            />
          </g>
          <g class="layer wave1">
            <path
              class="st1"
              d="M115.51,310.24h-52.58l-12.48,35.98h-19.29l50.38-139.71h16.22l49.32,139.71h-19.29l-12.28-35.98ZM68.4,294.41h41.74l-20.34-59.97h-.58l-20.82,59.97Z"
            />
            <path
              class="layer st1"
              d="M212.07,285.68v60.55h-18.9v-139.61h47.78c15.29,0,26.97,3.38,35.03,10.17,8.06,6.78,12.09,16.63,12.09,29.55,0,7.16-1.88,13.4-5.62,18.71-3.74,5.31-9.19,9.53-16.36,12.67,7.68,2.49,13.19,6.54,16.56,12.14,3.35,5.59,5.03,12.52,5.03,20.77v13.15c0,4.35.49,8.25,1.45,11.7.96,3.45,2.63,6.27,4.99,8.44v2.3h-19.48c-2.49-2.17-4.09-5.37-4.79-9.6-.7-4.22-1.06-8.57-1.06-13.05v-12.76c0-7.55-2.2-13.62-6.62-18.23-4.42-4.6-10.33-6.91-17.75-6.91h-32.33ZM212.07,270.8h26.97c10.68,0,18.38-2.03,23.08-6.09,4.7-4.06,7.05-10.24,7.05-18.56,0-7.88-2.28-13.97-6.86-18.29-4.58-4.32-11.7-6.47-21.35-6.47h-28.88v49.41Z"
            />
            <path
              class="st1"
              d="M433.75,221.39h-46.06v124.83h-18.9v-124.83h-45.48v-14.88h110.45v14.88Z"
            />
          </g>
          <g>
            <g class="layer wave3">
              <g>
                <path class="st1" d="M506.03,341.6v1.87h-50.43v-1.87h50.43Z" />
                <rect
                  class="st1"
                  x="454.43"
                  y="340.42"
                  width="52.78"
                  height="4.23"
                />
              </g>
              <g>
                <path
                  class="st1"
                  d="M499.25,283.02c1.8,1.07,3.51,3.1,5.11,6.12,1.6,3.02,2.41,6.72,2.41,11.1,0,5.78-2.05,10.45-6.17,14.04-4.11,3.59-9.45,5.39-16.03,5.39h-8.25c-6.32,0-11.48-1.75-15.46-5.23-3.99-3.48-5.97-8.02-5.97-13.61s1.38-9.67,4.15-12.87c2.77-3.2,6.33-4.73,10.67-4.63l.22.08v1.56c-3.86,0-7.02,1.38-9.48,4.14-2.46,2.76-3.68,6.66-3.68,11.72s1.81,9.2,5.45,12.31c3.63,3.1,8.31,4.65,14.04,4.65h8.31c6.01,0,10.89-1.61,14.66-4.81,3.78-3.21,5.66-7.46,5.66-12.75,0-4.04-.65-7.37-1.97-9.99-1.31-2.62-2.83-4.4-4.53-5.35h-14.33v15.42h-1.91v-17.29h17.11Z"
                />
                <path
                  class="layer st1"
                  d="M484.56,320.84h-8.25c-6.58,0-12.04-1.86-16.24-5.52-4.23-3.7-6.37-8.58-6.37-14.49s1.49-10.24,4.43-13.64c2.9-3.34,6.64-5.04,11.13-5.04l.81.07.79.28.21.91v2.74h-1.17c-3.54,0-6.35,1.22-8.6,3.74-2.25,2.52-3.39,6.2-3.39,10.94s1.65,8.52,5.04,11.42c3.4,2.9,7.86,4.38,13.28,4.38h8.31c5.69,0,10.37-1.53,13.9-4.54,3.53-3,5.25-6.88,5.25-11.85,0-3.84-.62-7.02-1.86-9.46-1.12-2.25-2.39-3.83-3.79-4.7h-12.85v15.42h-4.25v-19.64h18.61l.28.16c1.98,1.18,3.85,3.4,5.54,6.58,1.69,3.17,2.55,7.09,2.55,11.65,0,6.1-2.21,11.12-6.57,14.93-4.32,3.77-9.98,5.68-16.81,5.68Z"
                />
              </g>
              <g>
                <path
                  class="st1"
                  d="M504.17,259.35v-27.25h1.87v29.16h-50.43v-1.91h48.56Z"
                />
                <polygon
                  class="st1"
                  points="507.21 262.44 454.43 262.44 454.43 258.18 502.99 258.18 502.99 230.92 507.21 230.92 507.21 262.44"
                />
              </g>
              <g>
                <path class="st1" d="M506.03,211.07v1.87h-50.43v-1.87h50.43Z" />
                <rect
                  class="st1"
                  x="454.43"
                  y="209.89"
                  width="52.78"
                  height="4.22"
                />
              </g>
            </g>
            <g class="layer wave4">
              <g>
                <path
                  class="st1"
                  d="M539.45,318.13v24.25h23.48v-27.78h1.87v29.65h-50.43v-29.65h1.87v27.78h21.34v-24.25h1.87Z"
                />
                <polygon
                  class="st1"
                  points="565.99 345.42 513.2 345.42 513.2 313.42 517.43 313.42 517.43 341.2 536.41 341.2 536.41 316.96 540.63 316.96 540.63 341.2 561.76 341.2 561.76 313.42 565.99 313.42 565.99 345.42"
                />
              </g>
              <g>
                <path
                  class="st1"
                  d="M541.15,303.45h23.69v1.87h-50.43v-16.42c0-5.31,1.15-9.4,3.45-12.26,2.3-2.86,5.65-4.29,10.06-4.29,2.84,0,5.42.9,7.74,2.71,2.32,1.82,3.83,4.29,4.53,7.44.62-3.62,1.95-6.22,3.98-7.79,2.03-1.57,4.62-2.35,7.79-2.35h4.75c1.57,0,2.98-.19,4.23-.58,1.24-.38,2.26-1.01,3.04-1.88h.87v1.83c-.95.83-2.12,1.45-3.52,1.87-1.4.42-2.96.62-4.7.62h-4.61c-3.41,0-6.08,1.17-7.99,3.52-1.92,2.35-2.87,5.69-2.87,10.03v15.69ZM539.28,303.45v-14.2c0-5.15-1.09-8.94-3.26-11.38-2.17-2.43-4.87-3.65-8.1-3.65-3.76,0-6.64,1.23-8.64,3.69-1.99,2.46-2.99,6.13-2.99,11v14.55h23Z"
                />
                <path
                  class="st1"
                  d="M566.02,306.5h-52.79v-17.6c0-5.56,1.25-9.93,3.71-13,2.52-3.14,6.22-4.74,10.98-4.74,3.1,0,5.94,1,8.47,2.97,1.54,1.2,2.75,2.68,3.64,4.42.81-2.05,1.94-3.66,3.42-4.79,2.22-1.73,5.09-2.61,8.51-2.61h4.75c1.45,0,2.76-.18,3.88-.52,1.05-.32,1.88-.82,2.52-1.55l.35-.39h2.57v3.55l-.4.35c-1.07.94-2.4,1.65-3.95,2.12-1.5.44-3.19.67-5.04.67h-4.61c-3.07,0-5.38,1.01-7.08,3.09-1.73,2.12-2.6,5.24-2.6,9.28v14.51h23.69v4.22ZM517.46,302.27h20.65v-13.02c0-4.83-1.01-8.39-2.97-10.59-1.95-2.2-4.31-3.26-7.22-3.26-3.42,0-5.94,1.07-7.73,3.25-1.81,2.24-2.73,5.68-2.73,10.25v13.37Z"
                />
              </g>
              <g>
                <path class="st1" d="M564.81,254.65v1.87h-50.43v-1.87h50.43Z" />
                <rect
                  class="st1"
                  x="513.2"
                  y="253.47"
                  width="52.79"
                  height="4.22"
                />
              </g>
              <g>
                <path
                  class="st1"
                  d="M549.74,212.22v24.63l15.07,5.64v2.05l-50.43-18.84v-2.29l50.43-18.88v2.04l-15.07,5.64ZM547.87,236.16v-23.24l-28.22,10.56-2.95.97v.21l2.95.94,28.22,10.56Z"
                />
                <path
                  class="st1"
                  d="M565.99,246.24l-52.79-19.72v-3.92l52.79-19.76v4.55l-15.07,5.65v22.99l15.07,5.65v4.55ZM520.17,224.54l26.52,9.92v-19.85l-26.52,9.92Z"
                />
              </g>
            </g>
          </g>
        </g>
      </svg>
      
      <!-- Navigation Menu -->
      <nav class="nav-menu" id="navMenu">
        <button class="nav-close" id="navClose">✕</button>
        <li><a href="#about">About Us</a></li>
        <li><a href="#spazio">Spazio</a></li>
        <li><a href="#contatti">Contatti</a></li>
        <li><a href="#archivio">Archivio</a></li>
        <li><a href="#servizi">Servizi</a></li>
        <li><a href="#podcast">Podcast</a></li>
      </nav>
      
      <!-- Mobile Toggle Button -->
      <button class="nav-toggle" id="navToggle">☰</button>
    </header>

    <div class="wrap">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        id="Livello_1"
        version="1.1"
        viewBox="0 0 360 595"
        role="img"
        aria-label="Logo animation with 5 waves"
      >
        <!-- Generator: Adobe Illustrator 29.8.2, SVG Export Plug-In . SVG Version: 2.1.1 Build 3)  -->
        <defs>
          <style>
            .st0 {
              fill: #12100b;
            }
            .st1 {
              fill: #000;
              transition: fill 2s ease-in-out;
            }
            
            .st1.white-fill {
              fill: #fff;
            }
            
            .st1.gradient-fill {
              fill: url(#orangePinkGradientMain);
              transition: fill 2s ease-in-out;
            }
          </style>
          <linearGradient id="orangePinkGradientMain" x1="0%" y1="100%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#FF8C00;stop-opacity:1" />
            <stop offset="50%" style="stop-color:#FF69B4;stop-opacity:1" />
          </linearGradient>
        </defs>

        <g id="scene">
          <g class="layer wave2">
            <path
              class="st1"
              d="M389.3,289.57c-58.15,0-105.46-47.3-105.46-105.44s47.31-105.43,105.46-105.43,105.39,47.29,105.39,105.43-47.28,105.44-105.39,105.44ZM389.3,81.05c-56.85,0-103.1,46.24-103.1,103.08s46.25,103.09,103.1,103.09,103.04-46.24,103.04-103.09-46.22-103.08-103.04-103.08Z"
            />
            <path
              class="st1"
              d="M389.3,290.21c-58.5,0-106.1-47.59-106.1-106.08s47.6-106.07,106.1-106.07,106.03,47.58,106.03,106.07-47.56,106.08-106.03,106.08ZM389.3,79.34c-57.79,0-104.82,47.01-104.82,104.79s47.02,104.8,104.82,104.8,104.75-47.01,104.75-104.8-46.99-104.79-104.75-104.79ZM389.3,287.86c-57.21,0-103.75-46.53-103.75-103.73s46.54-103.72,103.75-103.72,103.68,46.53,103.68,103.72-46.51,103.73-103.68,103.73ZM389.3,81.7c-56.5,0-102.46,45.95-102.46,102.43s45.96,102.45,102.46,102.45,102.4-45.96,102.4-102.45-45.94-102.43-102.4-102.43Z"
            />
          </g>
          <g class="layer wave5">
            <path
              class="st1"
              d="M53.77,142.47h0c-5.67,0-11.05-2.03-15.15-5.71-4.71-4.18-7.39-10.06-7.57-16.57-.17-6.47,2.18-12.79,6.62-17.77,4.96-5.56,11.93-8.74,19.12-8.74,5.66,0,11.04,2.02,15.15,5.68,4.7,4.19,7.38,10.07,7.54,16.58.16,6.47-2.2,12.79-6.65,17.77-4.91,5.57-11.86,8.76-19.06,8.76ZM56.79,96.03c-6.52,0-12.85,2.9-17.37,7.96-4.04,4.53-6.17,10.27-6.02,16.15.16,5.84,2.56,11.13,6.77,14.88,3.68,3.29,8.51,5.11,13.59,5.11,6.52,0,12.83-2.91,17.3-7.97,4.05-4.54,6.2-10.27,6.06-16.16-.15-5.84-2.55-11.12-6.76-14.87-3.68-3.28-8.51-5.09-13.58-5.09Z"
            />
            <path
              class="st1"
              d="M53.77,143.11c-5.83,0-11.36-2.09-15.58-5.87-4.84-4.29-7.6-10.34-7.78-17.03-.17-6.64,2.23-13.11,6.78-18.22,5.08-5.69,12.22-8.96,19.6-8.96,5.81,0,11.34,2.08,15.58,5.85,4.83,4.3,7.59,10.35,7.76,17.04.16,6.64-2.25,13.12-6.81,18.22-5.03,5.7-12.15,8.97-19.54,8.97ZM56.79,94.32c-7.01,0-13.81,3.11-18.64,8.53-4.33,4.86-6.62,11.02-6.45,17.33.17,6.34,2.78,12.06,7.35,16.11,3.99,3.58,9.21,5.55,14.73,5.55,7.02,0,13.8-3.11,18.58-8.54,4.34-4.86,6.64-11.02,6.49-17.33-.16-6.33-2.77-12.05-7.33-16.12-4-3.56-9.23-5.52-14.72-5.52ZM53.77,140.76c-5.24,0-10.22-1.87-14.02-5.27-4.35-3.86-6.83-9.31-6.99-15.34-.16-6.04,2.04-11.93,6.18-16.59,4.64-5.19,11.14-8.17,17.85-8.17,5.24,0,10.21,1.86,14.01,5.25,4.34,3.86,6.82,9.31,6.97,15.34.15,6.04-2.06,11.94-6.22,16.6-4.59,5.2-11.07,8.18-17.78,8.18ZM56.79,96.67c-6.34,0-12.5,2.82-16.89,7.74-3.92,4.41-6,9.99-5.85,15.7.15,5.67,2.48,10.79,6.56,14.42,3.57,3.19,8.24,4.95,13.16,4.95,6.34,0,12.47-2.83,16.82-7.75,3.94-4.42,6.03-10,5.89-15.71-.14-5.67-2.47-10.79-6.54-14.41-3.56-3.18-8.23-4.93-13.16-4.93Z"
            />
          </g>
          <g class="layer wave1">
            <path
              class="st1"
              d="M115.51,310.24h-52.58l-12.48,35.98h-19.29l50.38-139.71h16.22l49.32,139.71h-19.29l-12.28-35.98ZM68.4,294.41h41.74l-20.34-59.97h-.58l-20.82,59.97Z"
            />
            <path
              class="layer st1"
              d="M212.07,285.68v60.55h-18.9v-139.61h47.78c15.29,0,26.97,3.38,35.03,10.17,8.06,6.78,12.09,16.63,12.09,29.55,0,7.16-1.88,13.4-5.62,18.71-3.74,5.31-9.19,9.53-16.36,12.67,7.68,2.49,13.19,6.54,16.56,12.14,3.35,5.59,5.03,12.52,5.03,20.77v13.15c0,4.35.49,8.25,1.45,11.7.96,3.45,2.63,6.27,4.99,8.44v2.3h-19.48c-2.49-2.17-4.09-5.37-4.79-9.6-.7-4.22-1.06-8.57-1.06-13.05v-12.76c0-7.55-2.2-13.62-6.62-18.23-4.42-4.6-10.33-6.91-17.75-6.91h-32.33ZM212.07,270.8h26.97c10.68,0,18.38-2.03,23.08-6.09,4.7-4.06,7.05-10.24,7.05-18.56,0-7.88-2.28-13.97-6.86-18.29-4.58-4.32-11.7-6.47-21.35-6.47h-28.88v49.41Z"
            />
            <path
              class="st1"
              d="M433.75,221.39h-46.06v124.83h-18.9v-124.83h-45.48v-14.88h110.45v14.88Z"
            />
          </g>
          <g>
            <g class="layer wave3">
              <g>
                <path class="st1" d="M506.03,341.6v1.87h-50.43v-1.87h50.43Z" />
                <rect
                  class="st1"
                  x="454.43"
                  y="340.42"
                  width="52.78"
                  height="4.23"
                />
              </g>
              <g>
                <path
                  class="st1"
                  d="M499.25,283.02c1.8,1.07,3.51,3.1,5.11,6.12,1.6,3.02,2.41,6.72,2.41,11.1,0,5.78-2.05,10.45-6.17,14.04-4.11,3.59-9.45,5.39-16.03,5.39h-8.25c-6.32,0-11.48-1.75-15.46-5.23-3.99-3.48-5.97-8.02-5.97-13.61s1.38-9.67,4.15-12.87c2.77-3.2,6.33-4.73,10.67-4.63l.22.08v1.56c-3.86,0-7.02,1.38-9.48,4.14-2.46,2.76-3.68,6.66-3.68,11.72s1.81,9.2,5.45,12.31c3.63,3.1,8.31,4.65,14.04,4.65h8.31c6.01,0,10.89-1.61,14.66-4.81,3.78-3.21,5.66-7.46,5.66-12.75,0-4.04-.65-7.37-1.97-9.99-1.31-2.62-2.83-4.4-4.53-5.35h-14.33v15.42h-1.91v-17.29h17.11Z"
                />
                <path
                  class="layer st1"
                  d="M484.56,320.84h-8.25c-6.58,0-12.04-1.86-16.24-5.52-4.23-3.7-6.37-8.58-6.37-14.49s1.49-10.24,4.43-13.64c2.9-3.34,6.64-5.04,11.13-5.04l.81.07.79.28.21.91v2.74h-1.17c-3.54,0-6.35,1.22-8.6,3.74-2.25,2.52-3.39,6.2-3.39,10.94s1.65,8.52,5.04,11.42c3.4,2.9,7.86,4.38,13.28,4.38h8.31c5.69,0,10.37-1.53,13.9-4.54,3.53-3,5.25-6.88,5.25-11.85,0-3.84-.62-7.02-1.86-9.46-1.12-2.25-2.39-3.83-3.79-4.7h-12.85v15.42h-4.25v-19.64h18.61l.28.16c1.98,1.18,3.85,3.4,5.54,6.58,1.69,3.17,2.55,7.09,2.55,11.65,0,6.1-2.21,11.12-6.57,14.93-4.32,3.77-9.98,5.68-16.81,5.68Z"
                />
              </g>
              <g>
                <path
                  class="st1"
                  d="M504.17,259.35v-27.25h1.87v29.16h-50.43v-1.91h48.56Z"
                />
                <polygon
                  class="st1"
                  points="507.21 262.44 454.43 262.44 454.43 258.18 502.99 258.18 502.99 230.92 507.21 230.92 507.21 262.44"
                />
              </g>
              <g>
                <path class="st1" d="M506.03,211.07v1.87h-50.43v-1.87h50.43Z" />
                <rect
                  class="st1"
                  x="454.43"
                  y="209.89"
                  width="52.78"
                  height="4.22"
                />
              </g>
            </g>
            <g class="layer wave4">
              <g>
                <path
                  class="st1"
                  d="M539.45,318.13v24.25h23.48v-27.78h1.87v29.65h-50.43v-29.65h1.87v27.78h21.34v-24.25h1.87Z"
                />
                <polygon
                  class="st1"
                  points="565.99 345.42 513.2 345.42 513.2 313.42 517.43 313.42 517.43 341.2 536.41 341.2 536.41 316.96 540.63 316.96 540.63 341.2 561.76 341.2 561.76 313.42 565.99 313.42 565.99 345.42"
                />
              </g>
              <g>
                <path
                  class="st1"
                  d="M541.15,303.45h23.69v1.87h-50.43v-16.42c0-5.31,1.15-9.4,3.45-12.26,2.3-2.86,5.65-4.29,10.06-4.29,2.84,0,5.42.9,7.74,2.71,2.32,1.82,3.83,4.29,4.53,7.44.62-3.62,1.95-6.22,3.98-7.79,2.03-1.57,4.62-2.35,7.79-2.35h4.75c1.57,0,2.98-.19,4.23-.58,1.24-.38,2.26-1.01,3.04-1.88h.87v1.83c-.95.83-2.12,1.45-3.52,1.87-1.4.42-2.96.62-4.7.62h-4.61c-3.41,0-6.08,1.17-7.99,3.52-1.92,2.35-2.87,5.69-2.87,10.03v15.69ZM539.28,303.45v-14.2c0-5.15-1.09-8.94-3.26-11.38-2.17-2.43-4.87-3.65-8.1-3.65-3.76,0-6.64,1.23-8.64,3.69-1.99,2.46-2.99,6.13-2.99,11v14.55h23Z"
                />
                <path
                  class="st1"
                  d="M566.02,306.5h-52.79v-17.6c0-5.56,1.25-9.93,3.71-13,2.52-3.14,6.22-4.74,10.98-4.74,3.1,0,5.94,1,8.47,2.97,1.54,1.2,2.75,2.68,3.64,4.42.81-2.05,1.94-3.66,3.42-4.79,2.22-1.73,5.09-2.61,8.51-2.61h4.75c1.45,0,2.76-.18,3.88-.52,1.05-.32,1.88-.82,2.52-1.55l.35-.39h2.57v3.55l-.4.35c-1.07.94-2.4,1.65-3.95,2.12-1.5.44-3.19.67-5.04.67h-4.61c-3.07,0-5.38,1.01-7.08,3.09-1.73,2.12-2.6,5.24-2.6,9.28v14.51h23.69v4.22ZM517.46,302.27h20.65v-13.02c0-4.83-1.01-8.39-2.97-10.59-1.95-2.2-4.31-3.26-7.22-3.26-3.42,0-5.94,1.07-7.73,3.25-1.81,2.24-2.73,5.68-2.73,10.25v13.37Z"
                />
              </g>
              <g>
                <path class="st1" d="M564.81,254.65v1.87h-50.43v-1.87h50.43Z" />
                <rect
                  class="st1"
                  x="513.2"
                  y="253.47"
                  width="52.79"
                  height="4.22"
                />
              </g>
              <g>
                <path
                  class="st1"
                  d="M549.74,212.22v24.63l15.07,5.64v2.05l-50.43-18.84v-2.29l50.43-18.88v2.04l-15.07,5.64ZM547.87,236.16v-23.24l-28.22,10.56-2.95.97v.21l2.95.94,28.22,10.56Z"
                />
                <path
                  class="st1"
                  d="M565.99,246.24l-52.79-19.72v-3.92l52.79-19.76v4.55l-15.07,5.65v22.99l15.07,5.65v4.55ZM520.17,224.54l26.52,9.92v-19.85l-26.52,9.92Z"
                />
              </g>
            </g>
          </g>
        </g>
      </svg>
    </div>

    <!-- About Us Section -->
    <section class="about-section" id="about">
      <div class="about-container">
        <div class="about-text">
          <h2>About Us</h2>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
            ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
            aliquip ex ea commodo consequat.
          </p>
          <p>
            Duis aute irure dolor in reprehenderit in voluptate velit esse
            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
            cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.
          </p>
          <p>
            Sed ut perspiciatis unde omnis iste natus error sit voluptatem
            accusantium doloremque laudantium, totam rem aperiam, eaque ipsa
            quae ab illo inventore veritatis et quasi architecto beatae vitae
            dicta sunt explicabo.
          </p>
        </div>
        <div class="about-image">
          <img
            src="https://picsum.photos/500/400"
            alt="About us placeholder image"
          />
        </div>
      </div>
    </section>

    <script>
      const sleep = (ms) => new Promise((r) => setTimeout(r, ms));
      const prefersReduce = () =>
        window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      // Simple entrance (slide + fade) - rotation aware
      function animateIn(
        el,
        {
          from = "left",
          distance = 100,
          duration = 520,
          easing = "cubic-bezier(.2,.8,.2,1)",
        } = {}
      ) {
        if (prefersReduce()) {
          el.style.opacity = 1;
          el.style.transform = "none";
          return Promise.resolve();
        }
        
        // Get the scene's current rotation to adjust directions
        const scene = document.getElementById('scene');
        const sceneRotation = scene.__rot || 0;
        const rotRad = (sceneRotation * Math.PI) / 180;
        
        // Original direction vectors
        const originalDir = {
          left: [-1, 0],
          right: [1, 0],
          top: [0, -1],
          bottom: [0, 1],
        }[from] || [-1, 0];
        
        // Rotate the direction vector to account for scene rotation
        const cos = Math.cos(-rotRad); // Negative to counter-rotate
        const sin = Math.sin(-rotRad);
        const rotatedDx = originalDir[0] * cos - originalDir[1] * sin;
        const rotatedDy = originalDir[0] * sin + originalDir[1] * cos;
        
        const [dx, dy] = [rotatedDx * distance, rotatedDy * distance];
        
        return el.animate(
          [
            { transform: `translate(${dx}px, ${dy}px)`, opacity: 0 },
            { transform: "translate(0,0)", opacity: 1 },
          ],
          { duration, easing, fill: "forwards" }
        ).finished;
      }

      // Recoil/overshoot entrance (the "hit")
      async function enterWithHit(
        el,
        { from = "left", distance = 140, duration = 680, overshoot = 0.14 } = {}
      ) {
        if (prefersReduce()) {
          el.style.opacity = 1;
          el.style.transform = "none";
          return;
        }
        const dir = {
          left: [-1, 0],
          right: [1, 0],
          top: [0, -1],
          bottom: [0, 1],
        }[from] || [-1, 0];
        const dx = dir[0] * distance,
          dy = dir[1] * distance;
        const over = distance * overshoot;
        const tIn = Math.round(duration * 0.52),
          tOver = Math.round(duration * 0.16),
          tRecoil = Math.round(duration * 0.18);
        const kf = [
          { transform: `translate(${dx}px, ${dy}px)`, opacity: 0, offset: 0 },
          {
            transform: "translate(0px,0px)",
            opacity: 1,
            offset: tIn / duration,
          },
          {
            transform: `translate(${-dir[0] * over}px, ${-dir[1] * over}px)`,
            opacity: 1,
            offset: (tIn + tOver) / duration,
          },
          {
            transform: `translate(${dir[0] * over * 0.45}px, ${
              dir[1] * over * 0.45
            }px)`,
            opacity: 1,
            offset: (tIn + tOver + tRecoil) / duration,
          },
          { transform: "translate(0px,0px)", opacity: 1, offset: 1 },
        ];
        await el.animate(kf, {
          duration,
          fill: "forwards",
          easing: "cubic-bezier(.2,.8,.2,1)",
        }).finished;
      }

      // Shake everyone except the exempt element (tiny translate + rotate)
      async function shakeOthers(
        exempt,
        { amplitude = 6, rotations = 0.6, cycles = 1, duration = 160 } = {}
      ) {
        if (prefersReduce()) return;
        const targets = [...document.querySelectorAll("g.layer")].filter(
          (g) => g !== exempt
        );
        if (!targets.length) return;
        const kf = [
          { transform: "translate(0,0) rotate(0deg)" },
          {
            transform: `translate(${amplitude}px, ${-amplitude}px) rotate(${rotations}deg)`,
          },
          {
            transform: `translate(${-amplitude}px, ${amplitude}px) rotate(${-rotations}deg)`,
          },
          { transform: "translate(0,0) rotate(0deg)" },
        ];
        const perCycle = Math.max(1, Math.floor(duration / cycles));
        await Promise.all(
          targets
            .map(
              (el, i) =>
                el.animate(kf, {
                  duration: perCycle,
                  iterations: cycles,
                  delay: Math.min(24, i * 6),
                  easing: "linear",
                  fill: "both",
                }).finished
            )
            .map((p) => p.catch(() => {}))
        );
      }

      // Rotate entire scene by a delta AND translate it downward to keep the
      // content within the visible viewBox. We approximate the needed Y-shift
      // using the rotated axis-aligned bounding-box height.
      function rotateScene(
        scene,
        { deg = 90, duration = 1200, easing = "cubic-bezier(.2,.8,.2,1)", fromScale = null, toScale = null } = {}
      ) {
        if (prefersReduce()) return Promise.resolve();

        const svg = scene.ownerSVGElement;
        const vb =
          svg.viewBox && svg.viewBox.baseVal
            ? svg.viewBox.baseVal
            : {
                x: 0,
                y: 0,
                width: svg.clientWidth || 595,
                height: svg.clientHeight || 595,
              };

        // Current accumulated transforms
        const curRot = scene.__rot || 0;
        const curTy = scene.__ty || 0;
        const curScale = scene.__scale || 1;

        const nextRot = curRot + deg;

        // Compute bbox in *untransformed* space
        const bbox = scene.getBBox();
        const w = bbox.width;
        const h = bbox.height;

        const rad = (Math.abs(deg) * Math.PI) / 180;
        const aabbHeight =
          w * Math.abs(Math.sin(rad)) + h * Math.abs(Math.cos(rad));

        // Extra height beyond original when rotated; move down by half of the increase
        // so the top stays in-bounds while roughly centering vertically.
        const extraH = Math.max(0, aabbHeight - h);
        const deltaY = extraH * 0.25;

        const nextTy = curTy + deltaY;

        // Handle scaling
        const startScale = fromScale !== null ? fromScale : curScale;
        const endScale = toScale !== null ? toScale : curScale;

        // Persist for subsequent calls
        scene.__rot = nextRot;
        scene.__ty = nextTy;
        scene.__scale = endScale;

        return scene.animate(
          [
            { transform: `scale(${startScale}) translate(0px, ${curTy}px) rotate(${curRot}deg)` },
            { transform: `scale(${endScale}) translate(0px, ${nextTy}px) rotate(${nextRot}deg)` },
          ],
          { duration, easing, fill: "forwards" }
        ).finished;
      }

      // FIXED: previously an accidental IIFE after declaration caused a syntax error.
      function hapticHit() {
        try {
          if (navigator.vibrate) navigator.vibrate(20);
        } catch (e) {}
      }

      async function fadeInWave(
        el,
        { duration = 800, easing = "ease-in-out" } = {}
      ) {
        if (prefersReduce()) {
          el.style.opacity = 1;
          return Promise.resolve();
        }
        el.style.opacity = 0;
        return el.animate([{ opacity: 0 }, { opacity: 1 }], {
          duration,
          easing,
          fill: "forwards",
        }).finished;
      }
      // --- Minimal self-tests (non-invasive) ---
      (function selfTest() {
        try {
          console.assert(
            typeof hapticHit === "function",
            "hapticHit should be a function"
          );
          console.assert(
            typeof animateIn === "function",
            "animateIn should be defined"
          );
          console.assert(
            typeof enterWithHit === "function",
            "enterWithHit should be defined"
          );
          console.assert(
            typeof shakeOthers === "function",
            "shakeOthers should be defined"
          );
          console.assert(
            typeof rotateScene === "function",
            "rotateScene should be defined"
          );
          const scene = document.querySelector("#scene");
          console.assert(!!scene, "Expected #scene to exist");
        } catch (e) {
          console.warn("Self-test failed:", e);
        }
      })();

      async function runSequence() {
        const scene = document.querySelector("#scene");

        // Apply static rotation and translation
        scene.style.transform = 'translate(0px, 60px) rotate(90deg)';
        
        // Add gradient fill to wave2 elements from the beginning (both nav and main)
        const wave2Elements = document.querySelectorAll('.wave2 .st1');
        wave2Elements.forEach(element => {
          element.classList.add('gradient-fill');
        });
        
        // Wait a moment, then fade in background image
        setTimeout(() => {
          const backgroundImage = document.getElementById('backgroundImage');
          if (backgroundImage) {
            backgroundImage.classList.add('visible');
          }
        }, 500);
        
        // Change SVG fill color from black to white after background starts fading 
        // (only for main scene, exclude nav-scene and gradient-fill elements)
        setTimeout(() => {
          const svgElements = document.querySelectorAll('#scene .st1:not(.gradient-fill)');
          svgElements.forEach(element => {
            element.classList.add('white-fill');
          });
        }, 1000);
      }

      // Scroll handling for navigation header and SVG animation
      let isScrolling = false;
      let scrollTimeout;
      let lastScrollY = 0;
      let scrollDirection = "down";

      function handleScroll() {
        if (!isScrolling) {
          isScrolling = true;
          requestAnimationFrame(updateHeaderAndLogo);
        }

        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
          isScrolling = false;
        }, 100);
      }

      function updateHeaderAndLogo() {
        const scrollY = window.pageYOffset || document.documentElement.scrollTop;
        const viewportHeight = window.innerHeight;
        const navHeader = document.getElementById("navHeader");
        const navLogo = document.getElementById("nav_logo");
        const navScene = document.getElementById("nav-scene");
        const mainSvg = document.getElementById("Livello_1");
        const mainScene = document.getElementById("scene");

        // Show header when scrolling down past threshold, hide when at top
        if (scrollY > 50 ) {
          navHeader.classList.add("visible");
        } else if (scrollY === 0) {
          navHeader.classList.remove("visible");
        }
      }

      // Navigation menu toggle functionality
      function initMobileNav() {
        const navToggle = document.getElementById('navToggle');
        const navMenu = document.getElementById('navMenu');
        const navClose = document.getElementById('navClose');
        
        function closeMenu() {
          navMenu.classList.remove('open');
        }
        
        function openMenu() {
          navMenu.classList.add('open');
        }
        
        if (navToggle && navMenu) {
          // Open menu when clicking hamburger
          navToggle.addEventListener('click', openMenu);
          
          // Close menu when clicking close button
          if (navClose) {
            navClose.addEventListener('click', closeMenu);
          }
          
          // Close menu when clicking menu links
          navMenu.addEventListener('click', (e) => {
            if (e.target.tagName === 'A') {
              closeMenu();
            }
          });
          
          // Close menu when clicking outside (but not on toggle button)
          document.addEventListener('click', (e) => {
            if (!navToggle.contains(e.target) && !navMenu.contains(e.target)) {
              closeMenu();
            }
          });
        }
      }

      // Throttled scroll listener (temporarily disabled for testing)
       window.addEventListener("scroll", handleScroll, { passive: true });

      // Multiple ways to trigger animation for Firefox compatibility
      let animationStarted = false;
      
      function startAnimation() {
        if (animationStarted) {
          console.log('Animation already started, skipping...');
          return;
        }
        animationStarted = true;
        console.log('Starting animation...');
        runSequence().catch(console.error);
      }

      // Try multiple events to ensure animation starts
      window.addEventListener("load", () => {
        startAnimation();
        initMobileNav();
      });
      document.addEventListener("DOMContentLoaded", () => {
        startAnimation();
        initMobileNav();
      });
      
      // Fallback timeout in case events don't fire
      setTimeout(() => {
        if (document.readyState === 'complete') {
          console.log('Fallback animation start');
          startAnimation();
        }
      }, 1000);
    </script>
  </body>
</html>
